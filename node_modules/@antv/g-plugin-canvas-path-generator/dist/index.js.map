{"version":3,"file":"index.js","sources":["../src/paths/Circle.ts","../src/paths/Ellipse.ts","../src/paths/Line.ts","../src/paths/Path.ts","../src/paths/Polygon.ts","../src/paths/Polyline.ts","../src/paths/Rect.ts","../src/index.ts"],"sourcesContent":["import type { ParsedCircleStyleProps } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedCircleStyleProps,\n) {\n  const { cx = 0, cy = 0, r } = parsedStyle;\n  context.arc(cx, cy, r, 0, Math.PI * 2, false);\n}\n","import type { ParsedEllipseStyleProps } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedEllipseStyleProps,\n) {\n  const { cx = 0, cy = 0, rx, ry } = parsedStyle;\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n  if (context.ellipse) {\n    context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);\n  } else {\n    // 如果不支持，则使用圆来绘制，进行变形\n    const r = rx > ry ? rx : ry;\n    const scaleX = rx > ry ? 1 : rx / ry;\n    const scaleY = rx > ry ? ry / rx : 1;\n    context.save();\n    context.scale(scaleX, scaleY);\n    context.arc(cx, cy, r, 0, Math.PI * 2);\n  }\n}\n","import type { ParsedLineStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedLineStyleProps,\n) {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    markerStart,\n    markerEnd,\n    markerStartOffset,\n    markerEndOffset,\n  } = parsedStyle;\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = x2 - x1;\n    y = y2 - y1;\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = x1 - x2;\n    y = y1 - y2;\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n","import type { ParsedPathStyleProps, Path } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPathStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { absolutePath, segments } = parsedStyle.d;\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    const [p1, p2] = (markerStart.parentNode as Path).getStartTangent();\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    const [p1, p2] = (markerEnd.parentNode as Path).getEndTangent();\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  for (let i = 0; i < absolutePath.length; i++) {\n    const params = absolutePath[i];\n    const command = params[0];\n    const nextSegment = absolutePath[i + 1];\n    const useStartOffset =\n      i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);\n    const useEndOffset =\n      (i === absolutePath.length - 1 ||\n        (nextSegment && (nextSegment[0] === 'M' || nextSegment[0] === 'Z'))) &&\n      endOffsetX !== 0 &&\n      endOffsetY !== 0;\n\n    switch (command) {\n      case 'M':\n        // Use start marker offset\n        if (useStartOffset) {\n          context.moveTo(params[1] + startOffsetX, params[2] + startOffsetY);\n        } else {\n          context.moveTo(params[1], params[2]);\n        }\n        break;\n      case 'L':\n        if (useEndOffset) {\n          context.lineTo(params[1] + endOffsetX, params[2] + endOffsetY);\n        } else {\n          context.lineTo(params[1], params[2]);\n        }\n        break;\n      case 'Q':\n        context.quadraticCurveTo(params[1], params[2], params[3], params[4]);\n        if (useEndOffset) {\n          context.lineTo(params[3] + endOffsetX, params[4] + endOffsetY);\n        }\n        break;\n      case 'C':\n        context.bezierCurveTo(\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          params[5],\n          params[6],\n        );\n        if (useEndOffset) {\n          context.lineTo(params[5] + endOffsetX, params[6] + endOffsetY);\n        }\n        break;\n      case 'A': {\n        const { arcParams } = segments[i];\n        const { cx, cy, rx, ry, startAngle, endAngle, xRotation, sweepFlag } =\n          arcParams;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n        if (context.ellipse) {\n          context.ellipse(\n            cx,\n            cy,\n            rx,\n            ry,\n            xRotation,\n            startAngle,\n            endAngle,\n            !!(1 - sweepFlag),\n          );\n        } else {\n          // @see https://stackoverflow.com/a/47494351\n          const r = rx > ry ? rx : ry;\n          const scaleX = rx > ry ? 1 : rx / ry;\n          const scaleY = rx > ry ? ry / rx : 1;\n          context.translate(cx, cy);\n          context.rotate(xRotation);\n          context.scale(scaleX, scaleY);\n          context.arc(0, 0, r, startAngle, endAngle, !!(1 - sweepFlag));\n          context.scale(1 / scaleX, 1 / scaleY);\n          context.rotate(-xRotation);\n          context.translate(-cx, -cy);\n        }\n\n        if (useEndOffset) {\n          context.lineTo(params[6] + endOffsetX, params[7] + endOffsetY);\n        }\n        break;\n      }\n      case 'Z':\n        context.closePath();\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import type { ParsedPolygonStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPolygonStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { points } = parsedStyle.points;\n  const { length } = points;\n\n  const x1 = points[0][0];\n  const y1 = points[0][1];\n  const x2 = points[length - 1][0];\n  const y2 = points[length - 1][1];\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 1][0] - points[0][0];\n    y = points[length - 1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(\n    x1 + (startOffsetX || endOffsetX),\n    y1 + (startOffsetY || endOffsetY),\n  );\n  for (let i = 1; i < length - 1; i++) {\n    const point = points[i];\n    context.lineTo(point[0], point[1]);\n  }\n  context.lineTo(x2, y2);\n}\n","import type { ParsedPolylineStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPolylineStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { points } = parsedStyle.points;\n  const { length } = points;\n\n  const x1 = points[0][0];\n  const y1 = points[0][1];\n  const x2 = points[length - 1][0];\n  const y2 = points[length - 1][1];\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 2][0] - points[length - 1][0];\n    y = points[length - 2][1] - points[length - 1][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  for (let i = 1; i < length - 1; i++) {\n    const point = points[i];\n    context.lineTo(point[0], point[1]);\n  }\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n","import type { ParsedRectStyleProps } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedRectStyleProps,\n) {\n  const { x = 0, y = 0, radius, width, height } = parsedStyle;\n\n  const w = width;\n  const h = height;\n  const hasRadius = radius && radius.some((r) => r !== 0);\n\n  if (!hasRadius) {\n    // Canvas support negative width/height of rect\n    context.rect(x, y, w, h);\n  } else {\n    const signX = width > 0 ? 1 : -1;\n    const signY = height > 0 ? 1 : -1;\n    const sweepFlag = signX + signY === 0;\n    const [tlr, trr, brr, blr] = radius.map((r) =>\n      clamp(r, 0, Math.min(Math.abs(w) / 2, Math.abs(h) / 2)),\n    );\n\n    context.moveTo(signX * tlr + x, y);\n    context.lineTo(w - signX * trr + x, y);\n    if (trr !== 0) {\n      context.arc(\n        w - signX * trr + x,\n        signY * trr + y,\n        trr,\n        (-signY * Math.PI) / 2,\n        signX > 0 ? 0 : Math.PI,\n        sweepFlag,\n      );\n    }\n    context.lineTo(w + x, h - signY * brr + y);\n    if (brr !== 0) {\n      context.arc(\n        w - signX * brr + x,\n        h - signY * brr + y,\n        brr,\n        signX > 0 ? 0 : Math.PI,\n        signY > 0 ? Math.PI / 2 : 1.5 * Math.PI,\n        sweepFlag,\n      );\n    }\n    context.lineTo(signX * blr + x, h + y);\n    if (blr !== 0) {\n      context.arc(\n        signX * blr + x,\n        h - signY * blr + y,\n        blr,\n        signY > 0 ? Math.PI / 2 : -Math.PI / 2,\n        signX > 0 ? Math.PI : 0,\n        sweepFlag,\n      );\n    }\n    context.lineTo(x, signY * tlr + y);\n    if (tlr !== 0) {\n      context.arc(\n        signX * tlr + x,\n        signY * tlr + y,\n        tlr,\n        signX > 0 ? Math.PI : 0,\n        signY > 0 ? Math.PI * 1.5 : Math.PI / 2,\n        sweepFlag,\n      );\n    }\n  }\n}\n","import { AbstractRendererPlugin, Shape } from '@antv/g-lite';\nimport type { PathGenerator } from './interfaces';\nimport {\n  CirclePath,\n  EllipsePath,\n  LinePath,\n  PathPath,\n  PolygonPath,\n  PolylinePath,\n  RectPath,\n} from './paths';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'canvas-path-generator';\n  init(): void {\n    const pathGeneratorFactory: Record<Shape, PathGenerator<any>> = {\n      [Shape.CIRCLE]: CirclePath,\n      [Shape.ELLIPSE]: EllipsePath,\n      [Shape.RECT]: RectPath,\n      [Shape.LINE]: LinePath,\n      [Shape.POLYLINE]: PolylinePath,\n      [Shape.POLYGON]: PolygonPath,\n      [Shape.PATH]: PathPath,\n      [Shape.TEXT]: undefined,\n      [Shape.GROUP]: undefined,\n      [Shape.IMAGE]: undefined,\n      [Shape.HTML]: undefined,\n      [Shape.MESH]: undefined,\n    };\n\n    // @ts-ignore\n    this.context.pathGeneratorFactory = pathGeneratorFactory;\n  }\n  destroy(): void {\n    // @ts-ignore\n    delete this.context.pathGeneratorFactory;\n  }\n}\n\nexport * from './interfaces';\n"],"names":["generatePath","context","parsedStyle","_parsedStyle$cx","cx","_parsedStyle$cy","cy","r","arc","Math","PI","rx","ry","ellipse","scaleX","scaleY","save","scale","x1","y1","x2","y2","markerStart","markerEnd","markerStartOffset","markerEndOffset","startOffsetX","startOffsetY","endOffsetX","endOffsetY","rad","x","y","isDisplayObject","atan2","cos","sin","moveTo","lineTo","_parsedStyle$d","d","absolutePath","segments","_getStartTangent","parentNode","getStartTangent","_getStartTangent2","_slicedToArray","p1","p2","_getEndTangent","getEndTangent","_getEndTangent2","i","length","params","command","nextSegment","useStartOffset","useEndOffset","quadraticCurveTo","bezierCurveTo","arcParams","startAngle","endAngle","xRotation","sweepFlag","translate","rotate","closePath","points","point","_parsedStyle$x","_parsedStyle$y","radius","width","height","w","h","hasRadius","some","rect","signX","signY","_radius$map","map","clamp","min","abs","_radius$map2","tlr","trr","brr","blr","Plugin","_AbstractRendererPlug","_this","_classCallCheck","_len","arguments","args","Array","_key","_callSuper","concat","name","_inherits","_createClass","key","value","init","_pathGeneratorFactory","pathGeneratorFactory","_defineProperty","Shape","CIRCLE","CirclePath","ELLIPSE","EllipsePath","RECT","RectPath","LINE","LinePath","POLYLINE","PolylinePath","POLYGON","PolygonPath","PATH","PathPath","TEXT","undefined","GROUP","IMAGE","HTML","MESH","destroy","AbstractRendererPlugin"],"mappings":"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"}