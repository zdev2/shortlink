{"version":3,"file":"index.umd.min.js","sources":["../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-nil.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-type.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-number.js","../src/HTMLRenderingPlugin.ts","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-string.js","../src/index.ts","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/callSuper.js","../../../node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/inherits.js"],"sourcesContent":["function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import {\n  DisplayObject,\n  FederatedEvent,\n  GlobalRuntime,\n  HTML,\n  ICamera,\n  MutationEvent,\n  RenderingPlugin,\n  RenderingPluginContext,\n  CanvasEvent,\n  RenderReason,\n  isCSSRGB,\n  ElementEvent,\n  isPattern,\n  Shape,\n} from '@antv/g-lite';\nimport { isNil, isNumber, isString } from '@antv/util';\nimport type { mat4, vec3 } from 'gl-matrix';\n\nconst CANVAS_CAMERA_ID = 'g-canvas-camera';\n\nexport class HTMLRenderingPlugin implements RenderingPlugin {\n  static tag = 'HTMLRendering';\n\n  private context: RenderingPluginContext;\n\n  /**\n   * wrapper for camera\n   */\n  private $camera: HTMLDivElement;\n\n  private displayObjectHTMLElementMap = new WeakMap<\n    DisplayObject,\n    HTMLElement\n  >();\n\n  /**\n   * ! The reason for adding `offset` is that the `transform-origin` coordinate system of DOM is the local coordinate system of the element, while the `transform-origin` coordinate system of canvas drawing is the local coordinate system of the element's parent element. At the same time, the `transform` attribute value of the DOM element does not include `transform-origin`.\n   */\n  private joinTransformMatrix(matrix: mat4, offset: vec3 = [0, 0, 0]) {\n    return `matrix(${[\n      matrix[0],\n      matrix[1],\n      matrix[4],\n      matrix[5],\n      matrix[12] + offset[0],\n      matrix[13] + offset[1],\n    ].join(',')})`;\n  }\n\n  apply(context: RenderingPluginContext, runtime: GlobalRuntime) {\n    const { camera, renderingContext, renderingService } = context;\n    this.context = context;\n    const canvas = renderingContext.root.ownerDocument.defaultView;\n    const { nativeHTMLMap } = canvas.context.eventService;\n\n    const setTransform = (object: HTML, $el: HTMLElement) => {\n      $el.style.transform = this.joinTransformMatrix(\n        object.getWorldTransform(),\n        object.getOrigin(),\n      );\n    };\n\n    const handleMounted = (e: FederatedEvent) => {\n      const object = e.target as HTML;\n      if (object.nodeName === Shape.HTML) {\n        if (!this.$camera) {\n          this.$camera = this.createCamera(camera);\n        }\n\n        // create DOM element\n        const $el = this.getOrCreateEl(object);\n        this.$camera.appendChild($el);\n\n        Object.keys(object.attributes).forEach((name) => {\n          this.updateAttribute(name, object);\n        });\n\n        setTransform(object, $el);\n\n        nativeHTMLMap.set($el, object);\n      }\n    };\n\n    const handleUnmounted = (e: FederatedEvent) => {\n      const object = e.target as HTML;\n      if (object.nodeName === Shape.HTML && this.$camera) {\n        const $el = this.getOrCreateEl(object);\n        if ($el) {\n          $el.remove();\n          nativeHTMLMap.delete($el);\n        }\n      }\n    };\n\n    const handleAttributeChanged = (e: MutationEvent) => {\n      const object = e.target as HTML;\n      if (object.nodeName === Shape.HTML) {\n        const { attrName } = e;\n        this.updateAttribute(attrName, object);\n      }\n    };\n\n    const handleBoundsChanged = (e: MutationEvent) => {\n      const object = e.target as HTML;\n      const nodes =\n        object.nodeName === Shape.FRAGMENT ? object.childNodes : [object];\n\n      nodes.forEach((node: HTML) => {\n        if (node.nodeName === Shape.HTML) {\n          const $el = this.getOrCreateEl(node);\n          setTransform(node, $el);\n        }\n      });\n    };\n\n    const handleCanvasResize = () => {\n      if (this.$camera) {\n        const { width, height } = this.context.config;\n        this.$camera.parentElement.style.width = `${width || 0}px`;\n        this.$camera.parentElement.style.height = `${height || 0}px`;\n      }\n    };\n\n    renderingService.hooks.init.tap(HTMLRenderingPlugin.tag, () => {\n      canvas.addEventListener(CanvasEvent.RESIZE, handleCanvasResize);\n      canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.addEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n      canvas.addEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n    });\n\n    renderingService.hooks.endFrame.tap(HTMLRenderingPlugin.tag, () => {\n      if (\n        this.$camera &&\n        renderingContext.renderReasons.has(RenderReason.CAMERA_CHANGED)\n      ) {\n        this.$camera.style.transform = this.joinTransformMatrix(\n          camera.getOrthoMatrix(),\n        );\n      }\n    });\n\n    renderingService.hooks.destroy.tap(HTMLRenderingPlugin.tag, () => {\n      // remove camera\n      if (this.$camera) {\n        this.$camera.remove();\n      }\n\n      canvas.removeEventListener(CanvasEvent.RESIZE, handleCanvasResize);\n      canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.removeEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n      canvas.removeEventListener(\n        ElementEvent.BOUNDS_CHANGED,\n        handleBoundsChanged,\n      );\n    });\n  }\n\n  private createCamera(camera: ICamera) {\n    const { document: doc, width, height } = this.context.config;\n    const $canvas =\n      this.context.contextService.getDomElement() as unknown as HTMLElement;\n    const $container = $canvas.parentNode;\n    if ($container) {\n      const cameraId = CANVAS_CAMERA_ID;\n      let $existedCamera = $container.querySelector<HTMLDivElement>(\n        `#${cameraId}`,\n      );\n      if (!$existedCamera) {\n        // fix @see https://github.com/antvis/G/issues/1702\n        const $cameraContainer = (doc || document).createElement('div');\n        // HTML elements should not overflow with canvas @see https://github.com/antvis/G/issues/1163\n        $cameraContainer.style.overflow = 'hidden';\n        $cameraContainer.style.pointerEvents = 'none';\n        $cameraContainer.style.position = 'absolute';\n        $cameraContainer.style.left = `0px`;\n        $cameraContainer.style.top = `0px`;\n        $cameraContainer.style.width = `${width || 0}px`;\n        $cameraContainer.style.height = `${height || 0}px`;\n\n        const $camera = (doc || document).createElement('div');\n        $existedCamera = $camera;\n        $camera.id = cameraId;\n        // use absolute position\n        $camera.style.position = 'absolute';\n        // account for DOM element's offset @see https://github.com/antvis/G/issues/1150\n        $camera.style.left = `${$canvas.offsetLeft || 0}px`;\n        $camera.style.top = `${$canvas.offsetTop || 0}px`;\n        $camera.style.transformOrigin = 'left top';\n        $camera.style.transform = this.joinTransformMatrix(\n          camera.getOrthoMatrix(),\n        );\n        $camera.style.pointerEvents = 'none';\n        $camera.style.width = `100%`;\n        $camera.style.height = `100%`;\n\n        $cameraContainer.appendChild($camera);\n        $container.appendChild($cameraContainer);\n      }\n\n      return $existedCamera;\n    }\n    return null;\n  }\n\n  private getOrCreateEl(object: DisplayObject) {\n    const { document: doc } = this.context.config;\n    let $existedElement: HTMLElement | null =\n      this.displayObjectHTMLElementMap.get(object);\n\n    if (!$existedElement) {\n      $existedElement = (doc || document).createElement('div');\n      object.parsedStyle.$el = $existedElement;\n      this.displayObjectHTMLElementMap.set(object, $existedElement);\n      if (object.id) {\n        $existedElement.id = object.id;\n      }\n      if (object.name) {\n        $existedElement.setAttribute('name', object.name);\n      }\n      if (object.className) {\n        $existedElement.className = object.className;\n      }\n\n      // use absolute position\n      $existedElement.style.position = 'absolute';\n      // @see https://github.com/antvis/G/issues/1150\n      $existedElement.style['will-change'] = 'transform';\n      $existedElement.style.transform = this.joinTransformMatrix(\n        object.getWorldTransform(),\n        object.getOrigin(),\n      );\n    }\n\n    return $existedElement;\n  }\n\n  private updateAttribute(name: string, object: HTML) {\n    const $el = this.getOrCreateEl(object);\n    switch (name) {\n      case 'innerHTML':\n        const { innerHTML } = object.parsedStyle;\n        if (isString(innerHTML)) {\n          $el.innerHTML = innerHTML;\n        } else {\n          $el.innerHTML = '';\n          $el.appendChild(innerHTML);\n        }\n        break;\n      case 'x':\n        $el.style.left = `${object.parsedStyle.x}px`;\n        break;\n      case 'y':\n        $el.style.top = `${object.parsedStyle.y}px`;\n        break;\n      case 'transformOrigin':\n        const { transformOrigin } = object.parsedStyle;\n        $el.style['transform-origin'] = `${transformOrigin[0].buildCSSText(\n          null,\n          null,\n          '',\n        )} ${transformOrigin[1].buildCSSText(null, null, '')}`;\n        break;\n      case 'width':\n        const { width } = object.parsedStyle;\n        $el.style.width = isNumber(width)\n          ? `${width}px`\n          : (width as string).toString();\n        break;\n      case 'height':\n        const { height } = object.parsedStyle;\n        $el.style.height = isNumber(height)\n          ? `${height}px`\n          : (height as string).toString();\n        break;\n      case 'zIndex':\n        const { zIndex } = object.parsedStyle;\n        $el.style['z-index'] = `${zIndex}`;\n        break;\n      case 'visibility':\n        const { visibility } = object.parsedStyle;\n        $el.style.visibility = visibility;\n        break;\n      case 'pointerEvents':\n        const { pointerEvents = 'auto' } = object.parsedStyle;\n        $el.style.pointerEvents = pointerEvents;\n        break;\n      case 'opacity':\n        const { opacity } = object.parsedStyle;\n        $el.style.opacity = `${opacity}`;\n        break;\n      case 'fill':\n        const { fill } = object.parsedStyle;\n        let color = '';\n        if (isCSSRGB(fill)) {\n          if (fill.isNone) {\n            color = 'transparent';\n          } else {\n            color = object.getAttribute('fill') as string;\n          }\n        } else if (Array.isArray(fill)) {\n          color = object.getAttribute('fill') as string;\n        } else if (isPattern(fill)) {\n          // TODO: pattern, use background?\n        }\n        $el.style.background = color;\n        break;\n      case 'stroke':\n        const { stroke } = object.parsedStyle;\n        let borderColor = '';\n        if (isCSSRGB(stroke)) {\n          if (stroke.isNone) {\n            borderColor = 'transparent';\n          } else {\n            borderColor = object.getAttribute('stroke') as string;\n          }\n        } else if (Array.isArray(stroke)) {\n          borderColor = object.getAttribute('stroke') as string;\n        } else if (isPattern(stroke)) {\n          // TODO: pattern, use background?\n        }\n\n        $el.style['border-color'] = borderColor;\n        $el.style['border-style'] = 'solid';\n        break;\n      case 'lineWidth':\n        const { lineWidth } = object.parsedStyle;\n        $el.style['border-width'] = `${lineWidth || 0}px`;\n        break;\n      case 'lineDash':\n        $el.style['border-style'] = 'dashed';\n        break;\n      case 'filter':\n        const { filter } = object.style;\n        $el.style.filter = filter;\n        break;\n      default:\n        if (!isNil(object.style[name]) && object.style[name] !== '') {\n          $el.style[name] = object.style[name];\n        }\n    }\n  }\n}\n","import isType from './is-type';\nexport default (function (str) {\n    return isType(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import { AbstractRendererPlugin } from '@antv/g-lite';\nimport { HTMLRenderingPlugin } from './HTMLRenderingPlugin';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'html-renderer';\n  init(): void {\n    this.addRenderingPlugin(new HTMLRenderingPlugin());\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n  }\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nfunction _callSuper(t, o, e) {\n  return o = getPrototypeOf(o), possibleConstructorReturn(t, isNativeReflectConstruct() ? Reflect.construct(o, e || [], getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nexport { _callSuper as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };"],"names":["_classCallCheck","a","n","TypeError","_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","String","Number","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","key","_createClass","_getPrototypeOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","_possibleConstructorReturn","ReferenceError","assertThisInitialized","_setPrototypeOf","isNil$1","value","toString","isType$1","type","isNumber$1","isType","HTMLRenderingPlugin","this","displayObjectHTMLElementMap","WeakMap","matrix","offset","arguments","undefined","concat","join","context","runtime","_this","camera","renderingContext","renderingService","canvas","root","ownerDocument","defaultView","nativeHTMLMap","eventService","setTransform","object","$el","style","transform","joinTransformMatrix","getWorldTransform","getOrigin","handleMounted","target","nodeName","Shape","HTML","$camera","createCamera","getOrCreateEl","appendChild","keys","attributes","forEach","name","updateAttribute","set","handleUnmounted","remove","handleAttributeChanged","attrName","handleBoundsChanged","FRAGMENT","childNodes","node","handleCanvasResize","_this$context$config","config","height","parentElement","width","hooks","init","tap","tag","addEventListener","CanvasEvent","RESIZE","ElementEvent","MOUNTED","UNMOUNTED","ATTR_MODIFIED","BOUNDS_CHANGED","endFrame","renderReasons","has","RenderReason","CAMERA_CHANGED","getOrthoMatrix","destroy","removeEventListener","_this$context$config2","doc","document","$canvas","contextService","getDomElement","$container","parentNode","cameraId","$existedCamera","querySelector","$cameraContainer","createElement","overflow","pointerEvents","position","left","top","id","offsetLeft","offsetTop","transformOrigin","$existedElement","get","parsedStyle","setAttribute","className","innerHTML","x","y","buildCSSText","isNumber","zIndex","visibility","_object$parsedStyle$p","opacity","fill","color","isCSSRGB","isNone","getAttribute","Array","isArray","isPattern","background","stroke","borderColor","lineWidth","filter","isNil","Plugin","_AbstractRendererPlug","_len","args","_key","possibleConstructorReturn","isNativeReflectConstruct","apply","create","_inherits","addRenderingPlugin","removeAllRenderingPlugins","AbstractRendererPlugin"],"mappings":";;;;;;;;wTAAA,SAASA,EAAgBC,EAAGC,GAC1B,KAAMD,aAAaC,GAAI,MAAM,IAAIC,UAAU,oCAC7C,CCFA,SAASC,EAAQC,GAGf,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAC7F,cAAcA,CACf,EAAG,SAAUA,GACZ,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CACtH,EAAKD,EAAQC,EACb,CCNA,SAASK,EAAcC,GACrB,IAAIC,ECFN,SAAqBD,EAAGE,GACtB,GAAI,UAAYT,EAAQO,KAAOA,EAAG,OAAOA,EACzC,IAAIG,EAAIH,EAAEL,OAAOS,aACjB,QAAI,IAAWD,EAAG,CAChB,IAAIF,EAAIE,EAAEE,KAAKL,EAAGE,GAAK,WACvB,GAAI,UAAYT,EAAQQ,GAAI,OAAOA,EACnC,MAAM,IAAIT,UAAU,+CACrB,CACD,OAAQ,WAAaU,EAAII,OAASC,QAAQP,EAC5C,CDPUI,CAAYJ,EAAG,UACvB,MAAO,UAAYP,EAAQQ,GAAKA,EAAIA,EAAI,EAC1C,CEJA,SAASO,EAAkBL,EAAGD,GAC5B,IAAK,IAAIF,EAAI,EAAOE,EAAEO,OAANT,EAAcA,IAAK,CACjC,IAAIN,EAAIQ,EAAEF,GACVN,EAAEgB,WAAahB,EAAEgB,aAAc,EAAIhB,EAAEiB,cAAe,EAAI,UAAWjB,IAAMA,EAAEkB,UAAW,GAAKC,OAAOC,eAAeX,EAAGJ,EAAcL,EAAEqB,KAAMrB,EAC3I,CACH,CACA,SAASsB,EAAab,EAAGD,EAAGF,GAC1B,OAAOE,GAAKM,EAAkBL,EAAEL,UAAWI,GAAIF,GAAKQ,EAAkBL,EAAGH,GAAIa,OAAOC,eAAeX,EAAG,YAAa,CACjHS,UAAU,IACRT,CACN,CCXA,SAASc,EAAgBjB,GACvB,OAAOiB,EAAkBJ,OAAOK,eAAiBL,OAAOM,eAAeC,OAAS,SAAUpB,GACxF,OAAOA,EAAEqB,WAAaR,OAAOM,eAAenB,EAChD,EAAKiB,EAAgBjB,EACrB,CCJA,SAASsB,IACP,IACE,IAAItB,GAAKuB,QAAQzB,UAAU0B,QAAQnB,KAAKoB,QAAQC,UAAUH,QAAS,IAAI,WAAY,IACvF,CAAI,MAAOvB,GAAK,CACd,OAAQsB,EAA4B,WAClC,QAAStB,CACb,IACA,CCLA,SAAS2B,EAA2B3B,EAAGG,GACrC,GAAIA,IAAM,UAAYV,EAAQU,IAAM,mBAAqBA,GAAI,OAAOA,EACpE,QAAI,IAAWA,EAAG,MAAM,IAAIX,UAAU,4DACtC,OCLF,SAAgCW,GAC9B,QAAI,IAAWA,EAAG,MAAM,IAAIyB,eAAe,6DAC3C,OAAOzB,CACT,CDES0B,CAAsB7B,EAC/B,CENA,SAAS8B,EAAgB9B,EAAGG,GAC1B,OAAO2B,EAAkBjB,OAAOK,eAAiBL,OAAOK,eAAeE,OAAS,SAAUpB,EAAGG,GAC3F,OAAOH,EAAEqB,UAAYlB,EAAGH,CAC5B,EAAK8B,EAAgB9B,EAAGG,EACxB,CCHA,IAOA4B,EAPY,SAAUC,GAKlB,OAAOA,OACX,ECPIC,EAAW,CAAE,EAACA,SAElBC,EADa,SAAUF,EAAOG,GAAQ,OAAOF,EAAS5B,KAAK2B,KAAW,WAAaG,EAAO,GAAI,ECO9FC,EAHe,SAAUJ,GACrB,OAAOK,EAAOL,EAAO,SACzB,ECcaM,EAAmB,WAAA,SAAAA,IAAAjD,OAAAiD,GAAAC,KAUtBC,4BAA8B,IAAIC,OAGvC,CAAA,OAAAzB,EAAAsB,EAAA,CAAA,CAAAvB,IAAA,sBAAAiB,MAKH,SAA4BU,GAAwC,IAA1BC,EAAYC,UAAAnC,OAAA,QAAAoC,IAAAD,UAAAC,GAAAD,aAAG,CAAC,EAAG,EAAG,GAC9D,MAAAE,UAAAA,OAAiB,CACfJ,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,IAAMC,EAAO,GACpBD,EAAO,IAAMC,EAAO,IACpBI,KAAK,KAAI,IACb,GAAC,CAAAhC,IAAA,QAAAiB,MAED,SAAMgB,EAAiCC,GAAwB,IAAAC,EAAAX,KACrDY,EAA+CH,EAA/CG,OAAQC,EAAuCJ,EAAvCI,iBAAkBC,EAAqBL,EAArBK,iBAClCd,KAAKS,QAAUA,EACf,IAAMM,EAASF,EAAiBG,KAAKC,cAAcC,YAC3CC,EAAkBJ,EAAON,QAAQW,aAAjCD,cAEFE,EAAe,SAACC,EAAcC,GAClCA,EAAIC,MAAMC,UAAYd,EAAKe,oBACzBJ,EAAOK,oBACPL,EAAOM,cAILC,EAAgB,SAACjE,GACrB,IAAM0D,EAAS1D,EAAEkE,OACjB,GAAIR,EAAOS,WAAaC,EAAKA,MAACC,KAAM,CAC7BtB,EAAKuB,UACRvB,EAAKuB,QAAUvB,EAAKwB,aAAavB,IAInC,IAAMW,EAAMZ,EAAKyB,cAAcd,GAC/BX,EAAKuB,QAAQG,YAAYd,GAEzBjD,OAAOgE,KAAKhB,EAAOiB,YAAYC,SAAQ,SAACC,GACtC9B,EAAK+B,gBAAgBD,EAAMnB,EAC7B,IAEAD,EAAaC,EAAQC,GAErBJ,EAAcwB,IAAIpB,EAAKD,EACzB,GAGIsB,EAAkB,SAAChF,GACvB,IAAM0D,EAAS1D,EAAEkE,OACjB,GAAIR,EAAOS,WAAaC,EAAAA,MAAMC,MAAQtB,EAAKuB,QAAS,CAClD,IAAMX,EAAMZ,EAAKyB,cAAcd,GAC3BC,IACFA,EAAIsB,SACJ1B,EAAa,OAAQI,GAEzB,GAGIuB,EAAyB,SAAClF,GAC9B,IAAM0D,EAAS1D,EAAEkE,OACbR,EAAOS,WAAaC,EAAKA,MAACC,MAE5BtB,EAAK+B,gBADgB9E,EAAbmF,SACuBzB,IAI7B0B,EAAsB,SAACpF,GAC3B,IAAM0D,EAAS1D,EAAEkE,QAEfR,EAAOS,WAAaC,EAAKA,MAACiB,SAAW3B,EAAO4B,WAAa,CAAC5B,IAEtDkB,SAAQ,SAACW,GACb,GAAIA,EAAKpB,WAAaC,EAAKA,MAACC,KAAM,CAChC,IAAMV,EAAMZ,EAAKyB,cAAce,GAC/B9B,EAAa8B,EAAM5B,EACrB,CACF,KAGI6B,EAAqB,WACzB,GAAIzC,EAAKuB,QAAS,CAChB,IAAAmB,EAA0B1C,EAAKF,QAAQ6C,OAAxBC,EAAMF,EAANE,OACf5C,EAAKuB,QAAQsB,cAAchC,MAAMiC,MAAK,GAAAlD,OADzB8C,EAALI,OAC6C,EAAK,MAC1D9C,EAAKuB,QAAQsB,cAAchC,MAAM+B,OAAM,GAAAhD,OAAMgD,GAAU,EAAK,KAC9D,GAGFzC,EAAiB4C,MAAMC,KAAKC,IAAI7D,EAAoB8D,KAAK,WACvD9C,EAAO+C,iBAAiBC,EAAAA,YAAYC,OAAQZ,GAC5CrC,EAAO+C,iBAAiBG,EAAAA,aAAaC,QAASrC,GAC9Cd,EAAO+C,iBAAiBG,EAAAA,aAAaE,UAAWvB,GAChD7B,EAAO+C,iBACLG,EAAAA,aAAaG,cACbtB,GAEF/B,EAAO+C,iBAAiBG,EAAAA,aAAaI,eAAgBrB,EACvD,IAEAlC,EAAiB4C,MAAMY,SAASV,IAAI7D,EAAoB8D,KAAK,WAEzDlD,EAAKuB,SACLrB,EAAiB0D,cAAcC,IAAIC,EAAAA,aAAaC,kBAEhD/D,EAAKuB,QAAQV,MAAMC,UAAYd,EAAKe,oBAClCd,EAAO+D,kBAGb,IAEA7D,EAAiB4C,MAAMkB,QAAQhB,IAAI7D,EAAoB8D,KAAK,WAEtDlD,EAAKuB,SACPvB,EAAKuB,QAAQW,SAGf9B,EAAO8D,oBAAoBd,EAAAA,YAAYC,OAAQZ,GAC/CrC,EAAO8D,oBAAoBZ,EAAAA,aAAaC,QAASrC,GACjDd,EAAO8D,oBAAoBZ,EAAAA,aAAaE,UAAWvB,GACnD7B,EAAO8D,oBACLZ,EAAAA,aAAaG,cACbtB,GAEF/B,EAAO8D,oBACLZ,EAAAA,aAAaI,eACbrB,EAEJ,GACF,GAAC,CAAAxE,IAAA,eAAAiB,MAED,SAAqBmB,GACnB,IAAAkE,EAAyC9E,KAAKS,QAAQ6C,OAApCyB,EAAGD,EAAbE,SAAevB,EAAKqB,EAALrB,MAAOF,EAAMuB,EAANvB,OACxB0B,EACJjF,KAAKS,QAAQyE,eAAeC,gBACxBC,EAAaH,EAAQI,WAC3B,GAAID,EAAY,CACd,IAAME,EAzJa,kBA0JfC,EAAiBH,EAAWI,kBAAajF,OACvC+E,IAEN,IAAKC,EAAgB,CAEnB,IAAME,GAAoBV,GAAOC,UAAUU,cAAc,OAEzDD,EAAiBjE,MAAMmE,SAAW,SAClCF,EAAiBjE,MAAMoE,cAAgB,OACvCH,EAAiBjE,MAAMqE,SAAW,WAClCJ,EAAiBjE,MAAMsE,KAAY,MACnCL,EAAiBjE,MAAMuE,IAAW,MAClCN,EAAiBjE,MAAMiC,MAAK,GAAAlD,OAAMkD,GAAS,EAAK,MAChDgC,EAAiBjE,MAAM+B,OAAM,GAAAhD,OAAMgD,GAAU,EAAK,MAElD,IAAMrB,GAAW6C,GAAOC,UAAUU,cAAc,OAChDH,EAAiBrD,EACjBA,EAAQ8D,GAAKV,EAEbpD,EAAQV,MAAMqE,SAAW,WAEzB3D,EAAQV,MAAMsE,KAAIvF,GAAAA,OAAM0E,EAAQgB,YAAc,EAAK,MACnD/D,EAAQV,MAAMuE,IAAGxF,GAAAA,OAAM0E,EAAQiB,WAAa,EAAK,MACjDhE,EAAQV,MAAM2E,gBAAkB,WAChCjE,EAAQV,MAAMC,UAAYzB,KAAK0B,oBAC7Bd,EAAO+D,kBAETzC,EAAQV,MAAMoE,cAAgB,OAC9B1D,EAAQV,MAAMiC,MAAc,OAC5BvB,EAAQV,MAAM+B,OAAe,OAE7BkC,EAAiBpD,YAAYH,GAC7BkD,EAAW/C,YAAYoD,EACzB,CAEA,OAAOF,CACT,CACA,OAAO,IACT,GAAC,CAAA/G,IAAA,gBAAAiB,MAED,SAAsB6B,GACpB,IAAkByD,EAAQ/E,KAAKS,QAAQ6C,OAA/B0B,SACJoB,EACFpG,KAAKC,4BAA4BoG,IAAI/E,GA0BvC,OAxBK8E,IACHA,GAAmBrB,GAAOC,UAAUU,cAAc,OAClDpE,EAAOgF,YAAY/E,IAAM6E,EACzBpG,KAAKC,4BAA4B0C,IAAIrB,EAAQ8E,GACzC9E,EAAO0E,KACTI,EAAgBJ,GAAK1E,EAAO0E,IAE1B1E,EAAOmB,MACT2D,EAAgBG,aAAa,OAAQjF,EAAOmB,MAE1CnB,EAAOkF,YACTJ,EAAgBI,UAAYlF,EAAOkF,WAIrCJ,EAAgB5E,MAAMqE,SAAW,WAEjCO,EAAgB5E,MAAM,eAAiB,YACvC4E,EAAgB5E,MAAMC,UAAYzB,KAAK0B,oBACrCJ,EAAOK,oBACPL,EAAOM,cAIJwE,CACT,GAAC,CAAA5H,IAAA,kBAAAiB,MAED,SAAwBgD,EAAcnB,GACpC,IAAMC,EAAMvB,KAAKoC,cAAcd,GAC/B,OAAQmB,GACN,IAAK,YACH,IAAQgE,EAAcnF,EAAOgF,YAArBG,UCvPL3G,EDwPU2G,ECxPE,UDyPblF,EAAIkF,UAAYA,GAEhBlF,EAAIkF,UAAY,GAChBlF,EAAIc,YAAYoE,IAElB,MACF,IAAK,IACHlF,EAAIC,MAAMsE,KAAIvF,GAAAA,OAAMe,EAAOgF,YAAYI,EAAK,MAC5C,MACF,IAAK,IACHnF,EAAIC,MAAMuE,IAAGxF,GAAAA,OAAMe,EAAOgF,YAAYK,EAAK,MAC3C,MACF,IAAK,kBACH,IAAQR,EAAoB7E,EAAOgF,YAA3BH,gBACR5E,EAAIC,MAAM,uBAAmBjB,OAAM4F,EAAgB,GAAGS,aACpD,KACA,KACA,IACDrG,KAAAA,OAAI4F,EAAgB,GAAGS,aAAa,KAAM,KAAM,KACjD,MACF,IAAK,QACH,IAAQnD,EAAUnC,EAAOgF,YAAjB7C,MACRlC,EAAIC,MAAMiC,MAAQoD,EAASpD,GAAMlD,GAAAA,OAC1BkD,EAAK,MACPA,KACL,MACF,IAAK,SACH,IAAQF,EAAWjC,EAAOgF,YAAlB/C,OACRhC,EAAIC,MAAM+B,OAASsD,EAAStD,GAAOhD,GAAAA,OAC5BgD,EAAM,MACRA,KACL,MACF,IAAK,SAEHhC,EAAIC,MAAM,WAAUjB,GAAAA,OADDe,EAAOgF,YAAlBQ,QAER,MACF,IAAK,aAEHvF,EAAIC,MAAMuF,WADazF,EAAOgF,YAAtBS,WAER,MACF,IAAK,gBACH,IAAAC,EAAmC1F,EAAOgF,YAAlCV,cACRrE,EAAIC,MAAMoE,mBADc,IAAHoB,EAAG,OAAMA,EAE9B,MACF,IAAK,UAEHzF,EAAIC,MAAMyF,WAAO1G,OADGe,EAAOgF,YAAnBW,SAER,MACF,IAAK,OACH,IAAQC,EAAS5F,EAAOgF,YAAhBY,KACJC,EAAQ,GACRC,EAAAA,SAASF,GAETC,EADED,EAAKG,OACC,cAEA/F,EAAOgG,aAAa,QAErBC,MAAMC,QAAQN,GACvBC,EAAQ7F,EAAOgG,aAAa,QACnBG,EAAAA,UAAUP,GAGrB3F,EAAIC,MAAMkG,WAAaP,EACvB,MACF,IAAK,SACH,IAAQQ,EAAWrG,EAAOgF,YAAlBqB,OACJC,EAAc,GACdR,EAAAA,SAASO,GAETC,EADED,EAAON,OACK,cAEA/F,EAAOgG,aAAa,UAE3BC,MAAMC,QAAQG,GACvBC,EAActG,EAAOgG,aAAa,UACzBG,EAAAA,UAAUE,GAIrBpG,EAAIC,MAAM,gBAAkBoG,EAC5BrG,EAAIC,MAAM,gBAAkB,QAC5B,MACF,IAAK,YAEHD,EAAIC,MAAM,gBAAejB,GAAAA,OADHe,EAAOgF,YAArBuB,WACoC,EAAK,MACjD,MACF,IAAK,WACHtG,EAAIC,MAAM,gBAAkB,SAC5B,MACF,IAAK,SAEHD,EAAIC,MAAMsG,OADSxG,EAAOE,MAAlBsG,OAER,MACF,QACOC,EAAMzG,EAAOE,MAAMiB,KAAiC,KAAvBnB,EAAOE,MAAMiB,KAC7ClB,EAAIC,MAAMiB,GAAQnB,EAAOE,MAAMiB,IAGvC,IAAC,CAxU6B,GAAnB1C,EACJ8D,IAAM,gBEnBFmE,IAAAA,WAAMC,GAAA,SAAAD,IAAA,IAAArH,ECAClD,EAAGN,EAAGS,EDAPd,OAAAkL,GAAA,IAAA,IAAAE,EAAA7H,UAAAnC,OAAAiK,EAAAZ,MAAAW,GAAAE,EAAA,EAAAF,EAAAE,EAAAA,IAAAD,EAAAC,GAAA/H,UAAA+H,GACK,OCDJ3K,EDADuC,KCAI7C,EDAJ6K,ECAOpK,EDAP2C,GAAAA,OAAA4H,GCCVhL,EAAIyB,EAAezB,IDDTwD,ECCa0H,EAA0B5K,EAAG6K,IAA6BpJ,QAAQC,UAAUhC,EAAGS,GAAK,GAAIgB,EAAenB,GAAGH,aAAeH,EAAEoL,MAAM9K,EAAGG,KDAlK6E,KAAO,gBAAe9B,CAAA,CAAA,OEHxB,SAAmBlD,EAAGG,GACpB,GAAI,mBAAqBA,GAAK,OAASA,EAAG,MAAM,IAAIX,UAAU,sDAC9DQ,EAAEF,UAAYe,OAAOkK,OAAO5K,GAAKA,EAAEL,UAAW,CAC5CD,YAAa,CACXmC,MAAOhC,EACPY,UAAU,EACVD,cAAc,KAEdE,OAAOC,eAAed,EAAG,YAAa,CACxCY,UAAU,IACRT,GAAKe,EAAelB,EAAGG,EAC7B,CFRwB6K,CAAAT,EAAAC,GAAAxJ,EAAAuJ,EAAA,CAAA,CAAAxJ,IAAA,OAAAiB,MACtB,WACEO,KAAK0I,mBAAmB,IAAI3I,EAC9B,GAAC,CAAAvB,IAAA,UAAAiB,MACD,WACEO,KAAK2I,2BACP,IAAC,EAPyBC,EAAsBA","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,14,16,17]}